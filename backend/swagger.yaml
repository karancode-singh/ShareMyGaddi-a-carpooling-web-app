openapi: 3.0.0
info:
  title: ShareMyGaddi
  description: ShareMyGaddi ApI
  version: 1.0.0
servers:
  - url: http://localhost:8000
    description: ShareMyGaddi API server
components:
  securitySchemes:
   bearerAuth:            
    type: http
    scheme: bearer
    bearerFormat: JWT
  schemas:
   User:
      type: object
      required:
        - Name
        - LastName
        - Email
        - Encry_Password
      properties:
        id:
          type: string
          description: The auto-generated id of the User
        Name:
            type: string
            description: First Name of User with Max length of 32
        LastName:
            type: string
            description: First Name of User with Max length of 32
        Email:
            type: string
            description: Email id of user
        PhoneNumber:
            type: Number
            description: Contains Phone Number of User
        Encry_Password:
            type: string
            description: Contains encrypted passwrod of user
        Salt:
            type: string
            description: Contains encrypted Random generated string for encrypting password
        User profile photo:
            type: Buffer
            description: User Photo stored in backend.
        Rides:
            type: Array
            description: Array storing user rides.
      example:
        Name: harry
        LastName: Taneja
        Email: tanejaharry@gmail.com
        PhoneNumber: 657 566 5678
        Encry_Password: b4dc5cd
        Salt: 3cf257hjdfs
paths:
  /api/signup:
      post:
        summary: Sigup user
        tags: [Authentication]
        requestBody:
          required: true
          content:
            application/Json:
                schema:
                  type: object
                  properties:
                    name:
                      type: string
                    lastname:
                      type: string
                    email:
                      type: string
                    phone_number:
                      type: number
                    password:
                      type: string
                    user_photo:
                      type: string
        responses:
              200:
                description: Signing successfull ...
                contens:
                  application/json:
                    schema:
                      type: string
              422:
                  description: Input parametes entered are wrong...
              401:
                  description: Entered Email or Entered password is incorrect
  /api/signin:
      post:
        summary: Sigin user
        tags: [Authentication]
        requestBody:
          required: true
          content:
            application/Json:
                schema:
                  type: object
                  properties:
                    email:
                      type: string 
                    password:
                      type: string
                     
        responses:
          200:
            description: Signing successfull ...
            contens:
              application/json:
                schema:
                type: string
    
          422:
            description: Input parametes entered are wrong...
          400:
            description: Entered Email does not exists...
          401:
            description: Entered Email or Entered password is incorrect...              
  /api/signout:
      get:
        summary: Signout
        tags: [Authentication]
        security: 
          - bearerAuth: []
        responses:
          200:
            description: Signout successful
          400:
            description: Bad Request ... 
  /api/trip/drive:
      post:
        summary: Sigin user
        tags: [Drive]
        security: 
          - bearerAuth: []
        requestBody:
          required: true
          content:
            application/Json:
                schema:
                  type: object
                  properties:
                    src:
                      type: object
                      example: 
                        lat: 43.48849834594833 
                        lng: -80.54167768508073
                      required: true 
                    dst:
                      type: object
                      example: 
                        lat: 43.46897334449664 
                        lng: -80.56300904300979
                      required: true
                    route: 
                      type: array
                      item: object
                      example:
                        [
                          
                          {lat: 43.4885 ,lng: -80.54153000000001 },{lat: 43.48774 ,lng: -80.54155}
                        ]  
                    dateTime:
                      type: string 
                      example: 2022-03-19T18:44:07.066Z
                      required: true
                    max_riders:
                      type: number
                      minimum: 1
                      maximum: 3  
                     
        responses:
          200:
            description: Trip was succesfull
          400:
            description: Trip already Exits
          500:
            description: Server Error 
                                     

        
        
   

  
